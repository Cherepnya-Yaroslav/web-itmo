# Лабораторная работа 2: Django веб-приложение

## Описание

Лабораторная работа посвящена созданию полноценного веб-сайта с использованием Django фреймворка. Реализован веб-сервис для туристической фирмы с системой резервирования туров, отзывов и административной панелью.

## Цель работы

Овладеть практическими навыками и умениями реализации web-сервисов средствами Django. Изучить основы работы с моделями, представлениями, шаблонами, формами и административной панелью Django.

## Вариант задания

**Вариант 4: Список туров туристической фирмы**

Хранится информация о названии тура, турагенстве, описании тура, периоде проведения тура, условиях оплаты.

## Реализованный функционал

### ✅ Обязательные требования:

- ✅ Регистрация новых пользователей
- ✅ Просмотр и резервирование туров
- ✅ Редактирование и удаление своих резервирований
- ✅ Написание отзывов к турам с рейтингом (1-10)
- ✅ Администратор может подтвердить резервирование тура через Django-admin
- ✅ Таблица проданных туров по странам в клиентской части

### ✅ Дополнительные возможности (для максимального балла):

- ✅ Меню с Bootstrap
- ✅ Пагинация страниц
- ✅ Поиск по объектам с пагинацией

## Технологии

- **Python 3.6+**
- **Django 3+**
- **PostgreSQL** (или SQLite для разработки)
- **Bootstrap** - для стилизации интерфейса
- **HTML/CSS** - шаблоны и стили

## Структура проекта

```
lab2/
├── tours/                    # Основное приложение
│   ├── models.py            # Модели данных (Tour, Reservation, Review)
│   ├── views.py             # Представления (views)
│   ├── urls.py              # URL маршруты
│   ├── forms.py             # Формы Django
│   ├── admin.py             # Административная панель
│   └── templates/           # HTML шаблоны
│       └── tours/
│           ├── base.html
│           ├── tour_list.html
│           ├── tour_detail.html
│           ├── create_reservation.html
│           ├── my_reservations.html
│           ├── edit_reservation.html
│           ├── delete_reservation.html
│           ├── create_review.html
│           ├── sold_tours_by_country.html
│           ├── register.html
│           └── login.html
├── tours_project/           # Настройки проекта Django
│   ├── settings.py         # Конфигурация проекта
│   ├── urls.py             # Главный URL конфиг
│   └── wsgi.py             # WSGI конфигурация
├── manage.py               # Управление Django
├── requirements.txt        # Зависимости проекта
└── db.sqlite3             # База данных (SQLite)
```

## Основные модели

### Tour (Тур)
- Название тура
- Турагенство
- Описание тура
- Период проведения (дата начала и окончания)
- Страна
- Условия оплаты

### Reservation (Резервирование)
- Связь с туром и пользователем
- Дата резервирования
- Статус (ожидает подтверждения, подтверждено, отменено)
- Примечания

### Review (Отзыв)
- Связь с туром и пользователем
- Даты тура (начало и окончание)
- Текст отзыва
- Рейтинг (1-10)

## URL маршруты

- `/` - список туров с поиском и пагинацией
- `/tour/<id>/` - детали тура
- `/tour/<id>/reserve/` - создание резервирования
- `/tour/<id>/review/` - создание отзыва
- `/my-reservations/` - список резервирований пользователя
- `/reservation/<id>/edit/` - редактирование резервирования
- `/reservation/<id>/delete/` - удаление резервирования
- `/sold-tours/` - таблица проданных туров по странам
- `/register/` - регистрация пользователя
- `/login/` - вход в систему
- `/admin/` - административная панель Django

## Особенности реализации

### Поиск и фильтрация
- Поиск по названию, описанию, турагенству и стране
- Использование Q объектов Django для сложных запросов

### Пагинация
- 6 туров на страницу
- Использование Paginator Django

### Аутентификация
- Регистрация новых пользователей
- Вход и выход из системы
- Защита представлений декоратором `@login_required`

### Административная панель
- Управление турами, резервированиями и отзывами
- Подтверждение резервирований
- Фильтры и поиск в админке

## Документация

- [Установка и запуск](installation.md)
- [Модели данных](models.md)
- [Представления и URL](views.md)
- [Шаблоны](templates.md)

## Полезные материалы

- [Официальная документация Django](https://docs.djangoproject.com/)
- [Django Tutorial](https://docs.djangoproject.com/en/stable/intro/tutorial01/)
- [Bootstrap Documentation](https://getbootstrap.com/docs/)
